<div class="chatView">

  <div class="top" style="text-align: center; font-size: 30px;">
    <!-- <a href=""><button class="close">x</button></a> -->
    <div class="matchesList">
      <div class="matchPicDiv" *ngFor="let match of matchesObjects">
        <a (click)="loadMessages(match.id.id_match)" (click)="loadMatchInfos(match.id.id_user_matched)" style="cursor: pointer;"><img class="matchPicture" src="data:image/png;base64,{{ match.picture }}" alt=""></a>
      </div>
    </div>
    <hr>
    <div class="matchInfos">
      <!-- selected conversation pic & match name -->
      <div *ngIf="!userMatchedName; else elseBlock"><label>Click on a match to open a conversation :)</label></div>
      <ng-template #elseBlock>
          <img class="conversationPicture" src="data:image/png;base64,{{ userMatchedPicture }}" alt="">
          <label class="user"><strong>{{userMatchedName}}</strong></label>
      </ng-template>
    </div>
  </div>

  <div class="contentArea">
    
    <div *ngIf="aConversationWasOpened === 1">
      <div *ngIf="messageList.length > 0; else elseBlock2">
        <div class="fullMessage" *ngFor="let message of messageList">
          <div [ngClass]="message.id === id ? 'message2' : 'message1'">
            <label>{{ message.msg }}</label>
          </div>
          <label [ngClass]="message.id === id ? 'infosLabel2' : 'infosLabel1'">{{ message.ts }}</label>
        </div>
      </div>
      <ng-template #elseBlock2>
        <label>Don't be shy, make the first step!</label>
      </ng-template>
    </div>

  </div>

  <div class="bottom">
    <form action="" [formGroup]="messageForm" (ngSubmit)="sendMessage()">
      <input id="message" formControlName="message" #message class="form-control" class="messageInput" autocomplete="off"/>
      <button type="submit" class="btn btn-primary btn-lg btn-block">SEND</button>
    </form>
  </div>

</div>